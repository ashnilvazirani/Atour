{"id":"Uj2q","dependencies":[{"name":"C:\\Users\\ashni\\Desktop\\NODE\\Atour\\package.json","includedInParent":true,"mtime":1594353109615},{"name":"axios","loc":{"line":2,"column":22},"parent":"C:\\Users\\ashni\\Desktop\\NODE\\Atour\\public\\js\\stripe.js","resolved":"C:\\Users\\ashni\\Desktop\\NODE\\Atour\\node_modules\\axios\\index.js"}],"generated":{"js":"var e=this;function t(e,t,r,n,o,a,s){try{var u=e[a](s),c=u.value}catch(i){return void r(i)}u.done?t(c):Promise.resolve(c).then(n,o)}function r(e){return function(){var r=this,n=arguments;return new Promise(function(o,a){var s=e.apply(r,n);function u(e){t(s,o,a,u,c,\"next\",e)}function c(e){t(s,o,a,u,c,\"throw\",e)}u(void 0)})}}var n=require(\"axios\");exports.bookTour=function(){var e=r(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Stripe(\"pk_test_51GtCLnGNc1zDDy2h72oDu8J6CTqn89ryEvpmk6AqNDo8hlIkErLcAHo2mxR0e87gPMNndjMQH0EexF7Tg4pfsNUi00NNbzPlHi\"),e.prev=1,e.next=4,n({method:\"GET\",url:\"http://127.0.0.1:3000/api/v1/bookings/checkout-session/\".concat(t)});case 4:return o=e.sent,e.next=7,r.redirectToCheckout({sessionId:o.data.session.id});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),exports.checkTourAvailability=function(){var t=r(regeneratorRuntime.mark(function t(r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({method:\"POST\",url:\"/api/v1/bookings/checkAvailable\",data:r});case 3:\"success\"===(o=t.sent).data.status?e.bookTour(r.tourID):\"fail\"===o.data.status&&showAlert(\"error\",\"Cannot book this tour for you\"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case\"end\":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}();"},"sourceMaps":{"js":{"mappings":[{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":0}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":4}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":6}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":11}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":20}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":22}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":24}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":26}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":28}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":30}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":32}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":34}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":37}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":41}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":45}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":47}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":49}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":52}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":55}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":57}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":59}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":65}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":71}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":74}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":86}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":88}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":91}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":93}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":98}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":100}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":103}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":111}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":119}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":122}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":127}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":129}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":132}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":141}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":143}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":146}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":153}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":164}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":168}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":170}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":175}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":177}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":187}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":194}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":198}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":206}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":215}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":217}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":220}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":224}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":226}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":228}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":234}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":236}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":239}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":248}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":250}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":253}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":255}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":257}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":259}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":261}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":263}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":265}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":272}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":275}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":284}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":286}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":289}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":291}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":293}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":295}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":297}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":299}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":301}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":309}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":312}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":319}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":325}},{"source":"stripe.js","name":"axios","original":{"line":2,"column":6},"generated":{"line":1,"column":329}},{"source":"stripe.js","name":"require","original":{"line":2,"column":14},"generated":{"line":1,"column":331}},{"source":"stripe.js","original":{"line":2,"column":22},"generated":{"line":1,"column":339}},{"source":"stripe.js","name":"exports","original":{"line":6,"column":0},"generated":{"line":1,"column":348}},{"source":"stripe.js","name":"bookTour","original":{"line":6,"column":8},"generated":{"line":1,"column":356}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":365}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":376}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":380}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":382}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":384}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":403}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":408}},{"source":"stripe.js","name":"tourID","original":{"line":6,"column":26},"generated":{"line":1,"column":417}},{"source":"stripe.js","name":"tourID","original":{"line":6,"column":26},"generated":{"line":1,"column":419}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":422}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":426}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":428}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":430}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":437}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":456}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":461}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":470}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":473}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":480}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":487}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":489}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":494}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":496}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":502}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":507}},{"source":"stripe.js","name":"axios","original":{"line":9,"column":30},"generated":{"line":1,"column":509}},{"source":"stripe.js","name":"stripe","original":{"line":7,"column":10},"generated":{"line":1,"column":516}},{"source":"stripe.js","name":"Stripe","original":{"line":7,"column":19},"generated":{"line":1,"column":518}},{"source":"stripe.js","original":{"line":7,"column":26},"generated":{"line":1,"column":525}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":636}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":638}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":643}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":645}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":647}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":652}},{"source":"stripe.js","name":"axios","original":{"line":9,"column":30},"generated":{"line":1,"column":654}},{"source":"stripe.js","original":{"line":9,"column":36},"generated":{"line":1,"column":656}},{"source":"stripe.js","name":"method","original":{"line":10,"column":12},"generated":{"line":1,"column":657}},{"source":"stripe.js","original":{"line":10,"column":20},"generated":{"line":1,"column":664}},{"source":"stripe.js","name":"url","original":{"line":11,"column":12},"generated":{"line":1,"column":670}},{"source":"stripe.js","name":"tourID","original":{"line":11,"column":75},"generated":{"line":1,"column":674}},{"source":"stripe.js","name":"tourID","original":{"line":11,"column":75},"generated":{"line":1,"column":732}},{"source":"stripe.js","name":"tourID","original":{"line":11,"column":75},"generated":{"line":1,"column":739}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":744}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":749}},{"source":"stripe.js","name":"stripe","original":{"line":13,"column":14},"generated":{"line":1,"column":751}},{"source":"stripe.js","name":"session","original":{"line":9,"column":14},"generated":{"line":1,"column":758}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":760}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":762}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":767}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":769}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":774}},{"source":"stripe.js","name":"stripe","original":{"line":13,"column":14},"generated":{"line":1,"column":776}},{"source":"stripe.js","name":"redirectToCheckout","original":{"line":13,"column":21},"generated":{"line":1,"column":778}},{"source":"stripe.js","original":{"line":13,"column":40},"generated":{"line":1,"column":797}},{"source":"stripe.js","name":"sessionId","original":{"line":14,"column":12},"generated":{"line":1,"column":798}},{"source":"stripe.js","name":"session","original":{"line":14,"column":23},"generated":{"line":1,"column":808}},{"source":"stripe.js","name":"data","original":{"line":14,"column":31},"generated":{"line":1,"column":810}},{"source":"stripe.js","name":"session","original":{"line":14,"column":36},"generated":{"line":1,"column":815}},{"source":"stripe.js","name":"id","original":{"line":14,"column":44},"generated":{"line":1,"column":823}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":828}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":833}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":835}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":837}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":842}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":845}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":851}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":856}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":858}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":860}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":865}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":867}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":869}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":872}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":874}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":880}},{"source":"stripe.js","name":"console","original":{"line":17,"column":8},"generated":{"line":1,"column":883}},{"source":"stripe.js","name":"log","original":{"line":17,"column":16},"generated":{"line":1,"column":891}},{"source":"stripe.js","original":{"line":17,"column":8},"generated":{"line":1,"column":895}},{"source":"stripe.js","original":{"line":17,"column":8},"generated":{"line":1,"column":897}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":901}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":906}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":909}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":913}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":919}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":926}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":928}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":937}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":939}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":944}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":945}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":946}},{"source":"stripe.js","original":{"line":6,"column":19},"generated":{"line":1,"column":948}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":956}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":963}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":972}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":975}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":982}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":984}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":990}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":995}},{"source":"stripe.js","original":{"line":6,"column":0},"generated":{"line":1,"column":1007}},{"source":"stripe.js","name":"exports","original":{"line":21,"column":0},"generated":{"line":1,"column":1010}},{"source":"stripe.js","name":"checkTourAvailability","original":{"line":21,"column":8},"generated":{"line":1,"column":1018}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1040}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1051}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1055}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1057}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1059}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1078}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1083}},{"source":"stripe.js","name":"data","original":{"line":21,"column":39},"generated":{"line":1,"column":1092}},{"source":"stripe.js","name":"data","original":{"line":21,"column":39},"generated":{"line":1,"column":1094}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1097}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1101}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1103}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1110}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1129}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1134}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1143}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1146}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1153}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1160}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1162}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1167}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1169}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1175}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1180}},{"source":"stripe.js","name":"axios","original":{"line":23,"column":29},"generated":{"line":1,"column":1182}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1189}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1191}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1196}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1198}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1200}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1205}},{"source":"stripe.js","name":"axios","original":{"line":23,"column":29},"generated":{"line":1,"column":1207}},{"source":"stripe.js","original":{"line":23,"column":35},"generated":{"line":1,"column":1209}},{"source":"stripe.js","name":"method","original":{"line":24,"column":12},"generated":{"line":1,"column":1210}},{"source":"stripe.js","original":{"line":24,"column":20},"generated":{"line":1,"column":1217}},{"source":"stripe.js","name":"url","original":{"line":25,"column":12},"generated":{"line":1,"column":1224}},{"source":"stripe.js","original":{"line":23,"column":35},"generated":{"line":1,"column":1228}},{"source":"stripe.js","name":"data","original":{"line":26,"column":12},"generated":{"line":1,"column":1262}},{"source":"stripe.js","name":"data","original":{"line":26,"column":12},"generated":{"line":1,"column":1267}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1271}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1276}},{"source":"stripe.js","original":{"line":29,"column":35},"generated":{"line":1,"column":1278}},{"source":"stripe.js","name":"result","original":{"line":23,"column":14},"generated":{"line":1,"column":1291}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1293}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1295}},{"source":"stripe.js","name":"data","original":{"line":29,"column":19},"generated":{"line":1,"column":1301}},{"source":"stripe.js","name":"status","original":{"line":29,"column":24},"generated":{"line":1,"column":1306}},{"source":"stripe.js","original":{"line":32,"column":12},"generated":{"line":1,"column":1313}},{"source":"stripe.js","name":"bookTour","original":{"line":32,"column":17},"generated":{"line":1,"column":1315}},{"source":"stripe.js","name":"data","original":{"line":32,"column":26},"generated":{"line":1,"column":1324}},{"source":"stripe.js","name":"tourID","original":{"line":32,"column":31},"generated":{"line":1,"column":1326}},{"source":"stripe.js","original":{"line":34,"column":42},"generated":{"line":1,"column":1334}},{"source":"stripe.js","name":"result","original":{"line":34,"column":19},"generated":{"line":1,"column":1343}},{"source":"stripe.js","name":"data","original":{"line":34,"column":26},"generated":{"line":1,"column":1345}},{"source":"stripe.js","name":"status","original":{"line":34,"column":31},"generated":{"line":1,"column":1350}},{"source":"stripe.js","name":"showAlert","original":{"line":36,"column":12},"generated":{"line":1,"column":1358}},{"source":"stripe.js","original":{"line":36,"column":22},"generated":{"line":1,"column":1368}},{"source":"stripe.js","original":{"line":36,"column":31},"generated":{"line":1,"column":1376}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1409}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1411}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1416}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1419}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1425}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1430}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1432}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1434}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1439}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1441}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1443}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1446}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1448}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1454}},{"source":"stripe.js","name":"console","original":{"line":39,"column":8},"generated":{"line":1,"column":1457}},{"source":"stripe.js","name":"log","original":{"line":39,"column":16},"generated":{"line":1,"column":1465}},{"source":"stripe.js","original":{"line":39,"column":8},"generated":{"line":1,"column":1469}},{"source":"stripe.js","original":{"line":39,"column":8},"generated":{"line":1,"column":1471}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1475}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1480}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1483}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1487}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1493}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1500}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1502}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1511}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1513}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1518}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1519}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1520}},{"source":"stripe.js","original":{"line":21,"column":32},"generated":{"line":1,"column":1522}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1530}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1537}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1546}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1549}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1556}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1558}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1564}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1569}},{"source":"stripe.js","original":{"line":21,"column":0},"generated":{"line":1,"column":1581}}],"sources":{"stripe.js":"// import axios from 'axios';\r\nconst axios = require('axios');\r\n// var {\r\n//     showAlert\r\n// } = require('./alert');\r\nexports.bookTour = async (tourID) => {\r\n    const stripe = Stripe('pk_test_51GtCLnGNc1zDDy2h72oDu8J6CTqn89ryEvpmk6AqNDo8hlIkErLcAHo2mxR0e87gPMNndjMQH0EexF7Tg4pfsNUi00NNbzPlHi')\r\n    try {\r\n        const session = await axios({\r\n            method: 'GET',\r\n            url: `http://127.0.0.1:3000/api/v1/bookings/checkout-session/${tourID}`\r\n        });\r\n        await stripe.redirectToCheckout({\r\n            sessionId: session.data.session.id\r\n        })\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexports.checkTourAvailability = async (data) => {\r\n    try {\r\n        const result = await axios({\r\n            method: 'POST',\r\n            url: `/api/v1/bookings/checkAvailable`,\r\n            data\r\n        });\r\n        // console.log(result.data.status);\r\n        if (result.data.status === 'success') {\r\n            // console.log('booking the tour')\r\n            // showAlert('success', 'Going ahead to make payment...');\r\n            this.bookTour(data.tourID);\r\n\r\n        } else if (result.data.status === 'fail') {\r\n            // console.log('failed to book');\r\n            showAlert('error', 'Cannot book this tour for you');\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}"},"lineCount":null}},"error":null,"hash":"aa9d7e944e71404b8c952aee7cba4320","cacheData":{"env":{}}}